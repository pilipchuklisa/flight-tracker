<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Детали рейса</title>
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
          integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
          crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="/css/component/flight-card.css">
    <link rel="stylesheet" type="text/css" href="/css/flight/details.css">
    <link rel="stylesheet" type="text/css" href="/css/style.css">
</head>
<body>

<nav class="navbar navbar-light header d-flex justify-content-between">
    <a class="navbar-brand" href="/home">
        <img src="/images/brand.svg" alt="">
        Flight Tracker
    </a>

    <div>
        <button class="btn-custom" onclick="location.href='/search'">
            <img src="/images/search.svg" width="20" height="20" alt="Search">
        </button>
        <button class="btn-custom" onclick="location.href='/favorites'">
            <img src="/images/favorites.svg" width="20" height="20" alt="Favorites">
        </button>
        <button class="btn-custom" onclick="location.href='/account'">
            <img src="/images/account.svg" width="20" height="20" alt="Account">
        </button>
    </div>
</nav>

<div class="details-container">
    <div class="details">

        <div class="details-main-section">
            <h2><span th:text="${flight.model}">Модель</span> (<span th:text="${flight.flightNumber}">Номер рейса</span>)</h2>
            <p><span class="badge" th:text="${flight.status}">Статус</span></p>
            <p><strong>Длительность полета:</strong> <span th:text="${flight.duration}"></span> минут</p>
            <p><span th:text="${flight.depCountry}">Страна вылета</span> (<span th:text="${flight.depCity}">Город вылета</span>) →
                <span th:text="${flight.arrCountry}">Страна прилета</span> (<span th:text="${flight.arrCity}">Город прилета</span>)</p>
        </div>

        <div class="details-section">
            <h3><span th:text="${flight.depName}">Аэропорт вылета</span> (<span th:text="${flight.depIata}">IATA</span>)</h3>

            <p>
                <span th:if="${#strings.isEmpty(flight.depActualUtc)}">
                    <span th:text="${flight.depTimeUtc}"></span>
                </span>
                <span th:unless="${#strings.isEmpty(flight.depActualUtc)}">
                    <s th:text="${flight.depTimeUtc}"></s> <span th:text="${flight.depActualUtc}"></span>
                </span>
            </p>

            <p>
                <span th:if="${#strings.isEmpty(flight.depActual)}">
                    <span th:text="${flight.depTime}"></span>
                </span>
                <span th:unless="${#strings.isEmpty(flight.depActual)}">
                    <s th:text="${flight.depTime}"></s> <span th:text="${flight.depActual}"></span>
                </span>
            </p>

            <p th:unless="${#strings.isEmpty(flight.depDelayed)}">
                <strong>Задержка вылета:</strong> <span th:text="${flight.depDelayed}"></span> минут
            </p>
        </div>

        <div class="details-section">
            <h3><span th:text="${flight.arrName}">Аэропорт прилета</span> (<span th:text="${flight.arrIata}">IATA</span>)</h3>

            <p>
                <span th:if="${#strings.isEmpty(flight.arrActualUtc)}">
                    <span th:text="${flight.arrTimeUtc}"></span>
                </span>
                <span th:unless="${#strings.isEmpty(flight.arrActualUtc)}">
                    <s th:text="${flight.arrTimeUtc}"></s> <span th:text="${flight.arrActualUtc}"></span>
                </span>
            </p>

            <p>
                <span th:if="${#strings.isEmpty(flight.arrActual)}">
                    <span th:text="${flight.arrTime}"></span>
                </span>
                <span th:unless="${#strings.isEmpty(flight.arrActual)}">
                    <s th:text="${flight.arrTime}"></s> <span th:text="${flight.arrActual}"></span>
                </span>
            </p>

            <p th:unless="${#strings.isEmpty(flight.arrDelayed)}">
                <strong>Задержка посадки:</strong> <span th:text="${flight.arrDelayed}"></span> минут
            </p>
        </div>
    </div>

    <div id="button-container" th:data-id="${id}"></div>
</div>

<script src="/js/details.js" defer></script>

</body>
</html>
